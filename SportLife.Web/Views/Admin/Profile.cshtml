<style>
    #graph_bar, svg {
        overflow: hidden;
        position: relative;
        left: -0.75px;
        width: 100%;
        margin-bottom: 55px;
    }

    ul.bar_tabs {
        overflow: visible;
        background: #F5F7FA;
        height: 25px;
        margin: 21px 0 14px;
        padding-left: 14px;
        position: relative;
        z-index: 1;
        width: 100%;
        border-bottom: 1px solid #E6E9ED;
    }


    ul.bar_tabs {
        overflow: visible;
        background: #F5F7FA;
        height: 25px;
        margin: 21px 0 14px;
        padding-left: 14px;
        position: relative;
        z-index: 1;
        width: 100%;
        border-bottom: 1px solid #E6E9ED;
    }

        ul.bar_tabs > li {
            border: 1px solid #E6E9ED;
            color: #333 !important;
            margin-top: -17px;
            margin-left: 8px;
            background: #fff;
            border-bottom: none;
            border-radius: 4px 4px 0 0;
        }

            ul.bar_tabs > li.active {
                border-right: 6px solid #D3D6DA;
                border-top: 0;
                margin-top: -15px;
            }

            ul.bar_tabs > li a {
                padding: 10px 17px;
                background: #F5F7FA;
                margin: 0;
                border-top-right-radius: 0;
            }

                ul.bar_tabs > li a:hover {
                    border: 1px solid transparent;
                }

            ul.bar_tabs > li.active a {
                border-bottom: none;
            }

        ul.bar_tabs.right {
            padding-right: 14px;
        }

            ul.bar_tabs.right li {
                float: right;
            }

    a:focus {
        outline: none;
    }

    ul.timeline li {
        position: relative;
        border-bottom: 1px solid #e8e8e8;
        clear: both;
    }

    .timeline .block {
        margin: 0;
        border-left: 3px solid #e8e8e8;
        overflow: visible;
        padding: 10px 15px;
        margin-left: 105px;
    }

    .timeline.widget {
        min-width: 0;
        max-width: inherit;
    }

        .timeline.widget .block {
            margin-left: 5px;
        }

    .timeline .tags {
        position: absolute;
        top: 15px;
        left: 0;
        width: 84px;
    }

    .timeline .tag {
        display: block;
        height: 30px;
        font-size: 13px;
        padding: 8px;
    }

        .timeline .tag span {
            display: block;
            overflow: hidden;
            width: 100%;
            white-space: nowrap;
            text-overflow: ellipsis;
        }

    .tag {
        line-height: 1;
        background: #1ABB9C;
        color: #fff !important;
    }

        .tag:after {
            content: " ";
            height: 30px;
            width: 0;
            position: absolute;
            left: 100%;
            top: 0;
            margin: 0;
            pointer-events: none;
            border-top: 14px solid transparent;
            border-bottom: 14px solid transparent;
            border-left: 11px solid #1ABB9C;
        }

    .timeline h2.title {
        position: relative;
        font-size: 16px;
        margin: 0;
    }

        .timeline h2.title:before {
            content: "";
            position: absolute;
            left: -23px;
            top: 3px;
            display: block;
            width: 14px;
            height: 14px;
            border: 3px solid #d2d3d2;
            border-radius: 14px;
            background: #f9f9f9;
        }

    .timeline .byline {
        padding: .25em 0;
    }

    .byline {
        -webkit-font-smoothing: antialiased;
        font-style: italic;
        font-size: .9375em;
        line-height: 1.3;
        color: #aab6aa;
    }

    li {
        list-style: none;
    }

        li img {
            width: 50%;
            height: 50%;
        }

        li.hidden {
            display: none;
        }



    #moreButtton {
        border-top-width: 10px;
        margin-top: 10px;
        margin-bottom: 30px;
        width: 159px;
        float: right;
    }

    .buttonSetA {
        margin-top: -65%;
        margin-left: 50%;
    }

    img.dashed {
        border-style: dashed;
        color: red;
        border: 5px solid;
    }
</style>
@model SportLife.Models.Models.ProfileViewModel
@using System.Globalization

@{
    int index = 0;
}
<script src="~/Scripts/dropzone/dropzone.js"></script>
<script type="text/javascript" src="~/Scripts/ekko-lightbox.min.js"></script>
<link href="~/Scripts/dropzone/css/dropzone.css" rel="stylesheet">

<div class="row widget-shadow">
    <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="x_panel">
            <div class="x_title">
                <h2>User Report <small>Activity report</small></h2>
                <ul class="nav navbar-right panel_toolbox">
                    <li>
                        <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                        <ul class="dropdown-menu" role="menu">
                            <li>
                                <a href="#">Settings 1</a>
                            </li>
                            <li>
                                <a href="#">Settings 2</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a class="close-link"><i class="fa fa-close"></i></a>
                    </li>
                </ul>
                <div class="clearfix"></div>
            </div>
            <div class="x_content">

                <div class="col-md-3 col-sm-3 col-xs-12 profile_left">

                    <div class="profile_img">

                        <!-- end of image cropping -->
                        <div id="crop-avatar">
                            <!-- Current avatar -->
                            @if (Model.Subject.MainFile > 0)
                            {
                                var img = Model.Documents.FirstOrDefault(d => d.DocumentId == Model.Subject.MainFile);
                                string path = img != null ? string.Format("../Content/uploads/imagepath/{0}", img.Path) : "../Content/images/default_profile.jpg";
                                <img onerror="if (this.src != '../Content/images/img-not-available.png') this.src = '../Content/images/img-not-available.png';" class="img-responsive avatar-view" src="@path" alt="Avatar" title="Change the avatar">

                            }
                            else
                            {
                                <img onerror="if (this.src != '../Content/images/img-not-available.png') this.src = '../Content/images/img-not-available.png';" class="img-responsive avatar-view" src="~/Content/images/default_profile.jpg" alt="Avatar" title="Change the avatar">

                            }


                            <!-- /.modal -->
                            <!-- Loading state -->
                            <div class="loading" aria-label="Loading" role="img" tabindex="-1"></div>
                        </div>
                        <!-- end of image cropping -->

                    </div>
                    <h3>@(Model.Subject.Username ?? "Samuel Doe")</h3>

                    <ul class="list-unstyled user_data">
                        <li>
                            <i class="fa fa-map-marker user-profile-icon"></i> San Francisco, California, USA
                        </li>

                        <li>
                            <i class="fa fa-briefcase user-profile-icon"></i> Software Engineer
                        </li>

                        @*<li class="m-top-xs">
                                <i class="fa fa-external-link user-profile-icon"></i>
                                <a href="http://www.kimlabs.com/profile/" target="_blank">www.kimlabs.com</a>
                            </li>*@
                    </ul>
                    @if (ViewBag.IsOther == null)
                    {
                        <a id="editProf" onclick="prepereSelect()" class="btn btn-success"><i class="fa fa-edit m-right-xs"></i>Edit Profile</a>

                    }
                    <br>

                    <!-- start skills -->
                    <h4>Skills</h4>
                    <ul class="list-unstyled user_data">
                        @foreach (var skil in Model.Skils)
                        {
                            <li>
                                <p>@skil.Name</p>
                                <div class="progress progress_sm">
                                    <div class="progress-bar bg-green" role="progressbar" data-transitiongoal="@skil.Value" aria-valuenow="@skil.Value.ToString()" style="width: @skil.Value%;"></div>
                                </div>
                            </li>
                        }
                        @*<li>
                                <p>Web Applications</p>
                                <div class="progress progress_sm">
                                    <div class="progress-bar bg-green" role="progressbar" data-transitiongoal="50" aria-valuenow="50" style="width: 50%;"></div>
                                </div>
                            </li>
                            <li>
                                <p>Website Design</p>
                                <div class="progress progress_sm">
                                    <div class="progress-bar bg-green" role="progressbar" data-transitiongoal="70" aria-valuenow="70" style="width: 70%;"></div>
                                </div>
                            </li>
                            <li>
                                <p>Automation &amp; Testing</p>
                                <div class="progress progress_sm">
                                    <div class="progress-bar bg-green" role="progressbar" data-transitiongoal="30" aria-valuenow="30" style="width: 30%;"></div>
                                </div>
                            </li>
                            <li>
                                <p>UI / UX</p>
                                <div class="progress progress_sm">
                                    <div class="progress-bar bg-green" role="progressbar" data-transitiongoal="50" aria-valuenow="50" style="width: 50%;"></div>
                                </div>
                            </li>*@
                    </ul>
                    <!-- end of skills -->

                </div>
                <div class="col-md-9 col-sm-9 col-xs-12">

                    <div class="profile_title">
                        <div class="col-md-6">
                            <h2>User Activity Report</h2>
                        </div>
                        <div class="col-md-6">
                            @*<div id="reportrange" class="pull-right" style="margin-top: 5px; background: #fff; cursor: pointer; padding: 5px 10px; border: 1px solid #E6E9ED">
                                    <i class="glyphicon glyphicon-calendar fa fa-calendar"></i>
                                    <span>May 31, 2016 - June 29, 2016</span> <b class="caret"></b>
                                </div>*@
                        </div>
                    </div>
                    <!-- start of user-activity-graph -->
                    <div id="graph_bar" style="width: 100%; height: 280px; position: relative; -webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
                        <svg height="280" version="1.1" width="1170" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="overflow: hidden; position: relative; left: -0.75px;"><desc style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Created with Raphaël @@VERSION</desc><defs style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></defs><text x="33.5" y="200.36860278" text-anchor="end" font-family="sans-serif" font-size="12px" stroke="none" fill="#888888" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: end; font-family: sans-serif; font-size: 12px; font-weight: normal;" font-weight="normal"><tspan dy="4.009227780000003" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">0</tspan></text><path fill="none" stroke="#aaaaaa" d="M46,200.36860278H1145" stroke-width="0.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><text x="33.5" y="156.52645208500002" text-anchor="end" font-family="sans-serif" font-size="12px" stroke="none" fill="#888888" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: end; font-family: sans-serif; font-size: 12px; font-weight: normal;" font-weight="normal"><tspan dy="4.010827085000017" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">100</tspan></text><path fill="none" stroke="#aaaaaa" d="M46,156.52645208500002H1145" stroke-width="0.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><text x="33.5" y="112.68430139" text-anchor="end" font-family="sans-serif" font-size="12px" stroke="none" fill="#888888" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: end; font-family: sans-serif; font-size: 12px; font-weight: normal;" font-weight="normal"><tspan dy="4.012426390000002" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">200</tspan></text><path fill="none" stroke="#aaaaaa" d="M46,112.68430139H1145" stroke-width="0.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><text x="33.5" y="68.84215069500002" text-anchor="end" font-family="sans-serif" font-size="12px" stroke="none" fill="#888888" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: end; font-family: sans-serif; font-size: 12px; font-weight: normal;" font-weight="normal"><tspan dy="4.014025695000015" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">300</tspan></text><path fill="none" stroke="#aaaaaa" d="M46,68.84215069500002H1145" stroke-width="0.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><text x="33.5" y="25" text-anchor="end" font-family="sans-serif" font-size="12px" stroke="none" fill="#888888" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: end; font-family: sans-serif; font-size: 12px; font-weight: normal;" font-weight="normal"><tspan dy="4" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">400</tspan></text><path fill="none" stroke="#aaaaaa" d="M46,25H1145" stroke-width="0.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><text x="1090.05" y="212.86860278" text-anchor="middle" font-family="sans-serif" font-size="12px" stroke="none" fill="#888888" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: sans-serif; font-size: 12px; font-weight: normal;" font-weight="normal" transform="matrix(0.5,-0.866,0.866,0.5,356.1683,1061.74)"><tspan dy="4.009227780000003" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Oct</tspan></text><text x="980.15" y="212.86860278" text-anchor="middle" font-family="sans-serif" font-size="12px" stroke="none" fill="#888888" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: sans-serif; font-size: 12px; font-weight: normal;" font-weight="normal" transform="matrix(0.5,-0.866,0.866,0.5,300.2152,968.2905)"><tspan dy="4.009227780000003" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Sep</tspan></text><text x="870.25" y="212.86860278" text-anchor="middle" font-family="sans-serif" font-size="12px" stroke="none" fill="#888888" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: sans-serif; font-size: 12px; font-weight: normal;" font-weight="normal" transform="matrix(0.5,-0.866,0.866,0.5,245.2698,873.1224)"><tspan dy="4.009227780000003" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Aug</tspan></text><text x="760.35" y="212.86860278" text-anchor="middle" font-family="sans-serif" font-size="12px" stroke="none" fill="#888888" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: sans-serif; font-size: 12px; font-weight: normal;" font-weight="normal" transform="matrix(0.5,-0.866,0.866,0.5,191.8167,775.3427)"><tspan dy="4.009227780000003" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Jul</tspan></text><text x="650.45" y="212.86860278" text-anchor="middle" font-family="sans-serif" font-size="12px" stroke="none" fill="#888888" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: sans-serif; font-size: 12px; font-weight: normal;" font-weight="normal" transform="matrix(0.5,-0.866,0.866,0.5,135.8636,681.8932)"><tspan dy="4.009227780000003" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Jun</tspan></text><text x="540.55" y="212.86860278" text-anchor="middle" font-family="sans-serif" font-size="12px" stroke="none" fill="#888888" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: sans-serif; font-size: 12px; font-weight: normal;" font-weight="normal" transform="matrix(0.5,-0.866,0.866,0.5,80.1683,588.0241)"><tspan dy="4.009227780000003" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">May</tspan></text><text x="430.65" y="212.86860278" text-anchor="middle" font-family="sans-serif" font-size="12px" stroke="none" fill="#888888" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: sans-serif; font-size: 12px; font-weight: normal;" font-weight="normal" transform="matrix(0.5,-0.866,0.866,0.5,26.2152,491.1105)"><tspan dy="4.009227780000003" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Apr</tspan></text><text x="320.75" y="212.86860278" text-anchor="middle" font-family="sans-serif" font-size="12px" stroke="none" fill="#888888" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: sans-serif; font-size: 12px; font-weight: normal;" font-weight="normal" transform="matrix(0.5,-0.866,0.866,0.5,-29.2302,396.8084)"><tspan dy="4.009227780000003" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Mar</tspan></text><text x="210.85" y="212.86860278" text-anchor="middle" font-family="sans-serif" font-size="12px" stroke="none" fill="#888888" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: sans-serif; font-size: 12px; font-weight: normal;" font-weight="normal" transform="matrix(0.5,-0.866,0.866,0.5,-84.1833,301.6268)"><tspan dy="4.009227780000003" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Feb</tspan></text><text x="100.95" y="212.86860278" text-anchor="middle" font-family="sans-serif" font-size="12px" stroke="none" fill="#888888" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: sans-serif; font-size: 12px; font-weight: normal;" font-weight="normal" transform="matrix(0.5,-0.866,0.866,0.5,-138.8864,206.0122)"><tspan dy="4.009227780000003" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Jan</tspan></text><rect x="59.7375" y="165.294882224" width="39.712500000000006" height="35.07372055600001" rx="0" ry="0" fill="#26b99a" stroke="none" fill-opacity="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); fill-opacity: 1;"></rect><rect x="169.6375" y="145.56591441125" width="39.712500000000006" height="54.80268836875001" rx="0" ry="0" fill="#26b99a" stroke="none" fill-opacity="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); fill-opacity: 1;"></rect><rect x="279.5375" y="123.2064175568" width="39.712500000000006" height="77.1621852232" rx="0" ry="0" fill="#26b99a" stroke="none" fill-opacity="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); fill-opacity: 1;"></rect><rect x="389.43750000000006" y="102.16218522320001" width="39.712500000000006" height="98.20641755679999" rx="0" ry="0" fill="#26b99a" stroke="none" fill-opacity="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); fill-opacity: 1;"></rect><rect x="499.33750000000003" y="84.18690343825001" width="39.712500000000006" height="116.18169934174999" rx="0" ry="0" fill="#26b99a" stroke="none" fill-opacity="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); fill-opacity: 1;"></rect><rect x="609.2375" y="62.7042495977" width="39.712500000000006" height="137.6643531823" rx="0" ry="0" fill="#26b99a" stroke="none" fill-opacity="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); fill-opacity: 1;"></rect><rect x="719.1375" y="48.23633986835" width="39.712500000000006" height="152.13226291165" rx="0" ry="0" fill="#26b99a" stroke="none" fill-opacity="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); fill-opacity: 1;"></rect><rect x="829.0375" y="74.54163028535001" width="39.712500000000006" height="125.82697249465" rx="0" ry="0" fill="#26b99a" stroke="none" fill-opacity="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); fill-opacity: 1;"></rect><rect x="938.9375" y="95.14744111200001" width="39.712500000000006" height="105.221161668" rx="0" ry="0" fill="#26b99a" stroke="none" fill-opacity="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); fill-opacity: 1;"></rect><rect x="1048.8374999999999" y="107.86166481355001" width="39.712500000000006" height="92.50693796645" rx="0" ry="0" fill="#26b99a" stroke="none" fill-opacity="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); fill-opacity: 1;"></rect></svg><div class="morris-hover morris-default-style" style="left: 44.95px; top: 102px; display: none;">
                            <div class="morris-hover-row-label">Jan</div><div class="morris-hover-point" style="color: #26B99A">
                                Hours worked:
                                80
                            </div><div class="morris-hover-point" style="color: #34495E">
                                SORN:
                                -
                            </div>
                        </div>
                    </div>
                    <!-- end of user-activity-graph -->

                    <div class="" role="tabpanel" data-example-id="togglable-tabs">
                        <ul id="myTab" class="nav nav-tabs bar_tabs" role="tablist">
                            <li role="presentation" class="active">
                                <a href="#tab_content1" id="home-tab" role="tab" data-toggle="tab" aria-expanded="true">Gallery</a>
                            </li>
                            <li role="presentation" class="">
                                <a href="#tab_content2" role="tab" id="profile-tab" data-toggle="tab" aria-expanded="false">Attended events</a>
                            </li>
                            @if (ViewBag.IsOther == null)
                            {
                                <li role="presentation" class="">
                                    <a href="#tab_content3" role="tab" id="profile-tab2" data-toggle="tab" aria-expanded="false">Upload</a>
                                </li>
                            }
                        </ul>
                        <div id="myTabContent" class="tab-content">
                            <div role="tabpanel" class="tab-pane fade active in" id="tab_content1" aria-labelledby="home-tab">


                                <!-- start recent activity -->
                                <ul class="messages" id="galery">

                                    @foreach (var doc in Model.Documents)
                                    {

                                        CultureInfo ci = new CultureInfo("en-US");
                                        var month = DateTime.Now.ToString("MMMM", ci);

                                        var date = doc.DateUploaded.ToLongDateString();

                                        string classLI = index < 3 ? "li-gal" : "hidden li-gal";

                                        <li class="@classLI">
                                            <a class="@string.Format("{0}", "li-gal".Equals(classLI) ? "wb-lbx":"")"
                                               href="@string.Format("../Content/uploads/imagepath/{0}", doc.Path)"
                                               data-toggle="@string.Format("{0}", "li-gal".Equals(classLI) ? "lightbox": "")"
                                               data-gallery="multiimages" data-title="@doc.Name">

                                                <img onerror="if (this.src != '../Content/images/img-not-available.png') this.src = '../Content/images/img-not-available.png';" src="@string.Format("../Content/uploads/imagepath/{0}", doc.Path)" class="avatar" alt="Avatar">
                                                <div class="message_date">
                                                    <h3 class="date text-info">@doc.DateUploaded.ToString("dd", CultureInfo.InvariantCulture)</h3>
                                                    <p class="month">@month @doc.DateUploaded.ToString("yyyy", CultureInfo.InvariantCulture)</p>
                                                </div>
                                            </a>
                                            <button type="button" onclick="setP(@doc.DocumentId, this)" class="buttonSetA btn btn-round btn-info hidden">Set avatar</button>
                                        </li>

                                        index++;
                                    }

                                    @*<li>
                                            <a class="wb-lbx" href="~/Content/images/default_profile.jpg" data-toggle="lightbox" data-gallery="multiimages" data-title="test">

                                                <img src="~/Content/images/default_profile.jpg" class="avatar" alt="Avatar">
                                                <div class="message_date">
                                                    <h3 class="date text-info">24</h3>
                                                    <p class="month">May</p>
                                                </div>
                                            </a>
                                        </li>
                                        <li>
                                            <a class="wb-lbx" href="~/Content/images/default_profile.jpg" data-toggle="lightbox" data-gallery="multiimages" data-title="test">

                                                <img src="~/Content/images/default_profile.jpg" class="avatar" alt="Avatar">
                                                <div class="message_date">
                                                    <h3 class="date text-info">24</h3>
                                                    <p class="month">May</p>
                                                </div>
                                            </a>
                                        </li>*@
                                </ul>
                                @if (Model.Documents.Count > 3)
                                {
                                    <button id="moreButtton" type="button" class="btn btn-round btn-danger" onclick="more(2)">Show more</button>

                                }

                                <!-- end recent activity -->

                            </div>
                            <div role="tabpanel" class="tab-pane fade" id="tab_content2" aria-labelledby="profile-tab">

                                <!-- start user projects -->
                                <table class="data table table-striped no-margin">
                                    <thead>
                                        <tr>
                                            <th>#</th>
                                            <th>Project Name</th>
                                            <th>Client Company</th>
                                            <th class="hidden-phone">Hours Spent</th>
                                            <th>Contribution</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>1</td>
                                            <td>New Company Takeover Review</td>
                                            <td>Deveint Inc</td>
                                            <td class="hidden-phone">18</td>
                                            <td class="vertical-align-mid">
                                                <div class="progress">
                                                    <div class="progress-bar progress-bar-success" data-transitiongoal="35" aria-valuenow="35" style="width: 35%;"></div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>2</td>
                                            <td>New Partner Contracts Consultanci</td>
                                            <td>Deveint Inc</td>
                                            <td class="hidden-phone">13</td>
                                            <td class="vertical-align-mid">
                                                <div class="progress">
                                                    <div class="progress-bar progress-bar-danger" data-transitiongoal="15" aria-valuenow="15" style="width: 15%;"></div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>3</td>
                                            <td>Partners and Inverstors report</td>
                                            <td>Deveint Inc</td>
                                            <td class="hidden-phone">30</td>
                                            <td class="vertical-align-mid">
                                                <div class="progress">
                                                    <div class="progress-bar progress-bar-success" data-transitiongoal="45" aria-valuenow="45" style="width: 45%;"></div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>4</td>
                                            <td>New Company Takeover Review</td>
                                            <td>Deveint Inc</td>
                                            <td class="hidden-phone">28</td>
                                            <td class="vertical-align-mid">
                                                <div class="progress">
                                                    <div class="progress-bar progress-bar-success" data-transitiongoal="75" aria-valuenow="75" style="width: 75%;"></div>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <!-- end user projects -->

                            </div>
                            @if (ViewBag.IsOther == null)
                            {
                                <div role="tabpanel" class="tab-pane fade" id="tab_content3" aria-labelledby="profile-tab">
                                    <div class="jumbotron">
                                        <form action="~/admin/SaveUploadedFile" method="post" enctype="multipart/form-data" class="dropzone" id="dropzoneForm">
                                            <div class="fallback">
                                                <input name="file" type="file" multiple />
                                                <input type="submit" value="Upload" />
                                            </div>
                                        </form>
                                        <button style="display: none;" class="btn btn-action btn-large btn-orange" id="submit-all">Save</button>
                                        <button style="display: none;" class="btn btn-default btn-large" id="cancel-all">Cancel</button>
                                    </div>
                                </div>
                            }
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>




<style type="text/css">
    .dz-max-files-reached {
        background-color: red;
    }
</style>

<script type="text/javascript">

    //File Upload response from the server
    Dropzone.options.dropzoneForm = {
        maxFiles: 4,
        parallelUploads: 4,
        maxFilesize: 5,
        autoProcessQueue: false,
        init: function () {
            this.on("maxfilesexceeded", function (data) {
                var res = eval('(' + data.xhr.responseText + ')');

            });
            var submitButton = document.querySelector("#submit-all");
            var cancelButton = document.querySelector("#cancel-all");
            myDropzone = this; // closure

            submitButton.addEventListener("click", function () {
                myDropzone.processQueue(); // Tell Dropzone to process all queued files.
            });

            cancelButton.addEventListener("click", function () {
                myDropzone.removeAllFiles(); // remove all files.
            });

            this.on("removedfile", function (file) {
                if (!myDropzone.getAcceptedFiles().length) {
                    submitButton.style.display = "none";
                    cancelButton.style.display = "none";
                }

            });

            this.on("success", function (file, serverResponse) {
                var newImg = ConstructImg(serverResponse.Path, serverResponse.Message, serverResponse.Id);

                if (newImg) {
                    $('ul.messages').prepend(newImg);
                    selectionDone();
                }
            });

            this.on("addedfile", function (file) {
                if (document.querySelector("#submit-all[style*='display: none']")) {
                    $(submitButton).show();
                    $(cancelButton).show();

                }
                // Create the remove button
                var removeButton = Dropzone.createElement("<button>Remove file</button>");


                // Capture the Dropzone instance as closure.
                var _this = this;

                // Listen to the click event
                removeButton.addEventListener("click", function (e) {
                    // Make sure the button click doesn't submit the form:
                    e.preventDefault();
                    e.stopPropagation();
                    // Remove the file preview.
                    _this.removeFile(file);
                    // If you want to the delete the file on the server as well,
                    // you can do the AJAX request here.
                });

                // Add the button to the file preview element.
                file.previewElement.appendChild(removeButton);
            });
            this.on("accepted", function (file) {
                if (document.querySelector("#submit-all[style*='display: none']")) {
                    $(submitButton).show();
                    $(cancelButton).show();

                }
            });
        }
    };

    function ConstructImg(path, name, id) {
        name = name || "Untitled";
        var d = new Date();
        return ' <li class="li-gal">' +
                      '  <a class="wb-lbx" href="../Content/uploads/imagepath/' + path + '" data-toggle="lightbox" data-gallery="multiimages" data-title="' + name + '">' +
               '      <img onerror="if (this.src != \'../Content/images/img-not-available.png\') this.src = \'../Content/images/img-not-available.png\';" src="../Content/uploads/imagepath/' + path + '" class="avatar" alt="Avatar">' +
               '        <div class="message_date">' +
                '      <h3 class="date text-info">' + d.getDay() + '</h3>' +
                '       <p class="month">' + month[d.getMonth()] + ' ' + d.getFullYear() + '</p>' +
                '    </div>' +
                     '<button type="button" onclick="setP(' + id + ', this)" class="buttonSetA btn btn-round btn-info">Set avatar</button>' +
                '   </li>'
    }



    $(document).delegate('*[data-toggle="lightbox"]', 'click', function (event) {
        event.preventDefault();
        return $(this).ekkoLightbox({
            always_show_close: true,
            gallery_parent_selector: '#galery',
        });
    });

    function more(nr) {
        var liElements = $('li.hidden');
        if (liElements.length < nr) {
            $('#moreButtton').addClass('hidden');
        }
        for (var i = 0; i < nr; i++) {
            if (liElements[i]) {
                var elm = $(liElements[i]);
                elm.removeClass('hidden');
                elm.find('a').attr("data-toggle", "lightbox");
                elm.find('a').addClass("wb-lbx");
            }
        }
    }


    function setP(id, elm) {
        var htmlElem = $(elm).parent().find('img');
        $.ajax({
            method: "POST",
            url: "SetProfPicture",
            data: { id: id },
            success: function (msg) {
                console.log(msg)
                debugger
                var src = htmlElem.attr("src");
                $('#crop-avatar img').attr('src', src);
                selectionDone()
            }
        });
    }

    function prepereSelect() {

        $('.buttonSetA').removeClass('hidden');
        $(".li-gal").hover(function (e) {
            var img = $(this).find('img')
            img.css("opacity", e.type === "mouseenter" ? 0.5 : 1.0)
            if (e.type === "mouseenter") {
                img.addClass("dashed");
            } else {
                img.removeClass("dashed");
            }
        });
        $('#editProf').text('CANCEL');
        $('#editProf').attr('onclick', 'selectionDone()');
        //$("li img").on("mouseleave", function () {
        //    $(this).css("opacity", 0.5)
        //});
    }

    function selectionDone() {
        $('.dashed').css("opacity", 1.0);
        $('.dashed').removeClass('dashed');
        $('#editProf').text('Edit Profile');
        $('.buttonSetA').addClass('hidden');
        $('#editProf').attr('onclick', 'prepereSelect()');
        $(".li-gal").unbind('mouseenter mouseleave')

    }

    var month = new Array();
    month[0] = "January";
    month[1] = "February";
    month[2] = "March";
    month[3] = "April";
    month[4] = "May";
    month[5] = "June";
    month[6] = "July";
    month[7] = "August";
    month[8] = "September";
    month[9] = "October";
    month[10] = "November";
    month[11] = "December";
</script>
